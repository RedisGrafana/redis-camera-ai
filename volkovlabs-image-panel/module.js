/*! For license information please see module.js.LICENSE.txt */
define(["emotion","react","@grafana/data","@grafana/ui"],(function(e,t,n,r){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=4)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t){e.exports=r},function(e,t,n){"use strict";n.r(t);var r=n(2);function o(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var i=n(0);const a="function"==typeof btoa,u="function"==typeof Buffer,c=("function"==typeof TextDecoder&&new TextDecoder,"function"==typeof TextEncoder?new TextEncoder:void 0),f=[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],l=((e=>{let t={};e.forEach((e,n)=>t[e]=n)})(f),String.fromCharCode.bind(String)),p=("function"==typeof Uint8Array.from&&Uint8Array.from.bind(Uint8Array),e=>e.replace(/[+\/]/g,e=>"+"==e?"-":"_").replace(/=+$/m,"")),s=e=>{let t,n,r,o,i="";const a=e.length%3;for(let a=0;a<e.length;){if((n=e.charCodeAt(a++))>255||(r=e.charCodeAt(a++))>255||(o=e.charCodeAt(a++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|o,i+=f[t>>18&63]+f[t>>12&63]+f[t>>6&63]+f[63&t]}return a?i.slice(0,a-3)+"===".substring(a):i},d=a?e=>btoa(e):u?e=>Buffer.from(e,"binary").toString("base64"):s,g=u?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let n=0,r=e.length;n<r;n+=4096)t.push(l.apply(null,e.subarray(n,n+4096)));return d(t.join(""))},y=e=>{if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?l(192|t>>>6)+l(128|63&t):l(224|t>>>12&15)+l(128|t>>>6&63)+l(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return l(240|t>>>18&7)+l(128|t>>>12&63)+l(128|t>>>6&63)+l(128|63&t)},b=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,h=e=>e.replace(b,y),m=u?e=>Buffer.from(e,"utf8").toString("base64"):c?e=>g(c.encode(e)):e=>d(h(e)),v=(e,t=!1)=>t?p(m(e)):m(e),x=v,j=e=>{if("string"!=typeof e)return!1;const t=e.replace(/\s+/g,"").replace(/=+$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)};var w,O,A,S=n(1),P=n.n(S),C=n(3),F=Object(C.stylesFactory)((function(){return{wrapper:Object(i.css)(w||(w=o(["\n      position: relative;\n    "],["\n      position: relative;\n    "]))),img:Object(i.css)(O||(O=o(["\n      position: absolute;\n      top: 0;\n      left: 0;\n    "],["\n      position: absolute;\n      top: 0;\n      left: 0;\n    "])))}}));n.d(t,"plugin",(function(){return T}));var T=new r.PanelPlugin((function(e){var t=e.options,n=e.data,r=e.width,a=e.height,u=F(),c=n.series.map((function(e){return e.fields.find((function(e){return"string"===e.type&&e.name===t.name}))})).map((function(e){return null==e?void 0:e.values.get(e.values.length-1)})).toString();return j(c)||(c=x(c)),P.a.createElement("div",{className:Object(i.cx)(u.wrapper,Object(i.css)(A||(A=o(["\n          width: ","px;\n          height: ","px;\n        "],["\n          width: ","px;\n          height: ","px;\n        "])),r,a))},P.a.createElement("img",{className:u.img,width:r,height:a,src:"data:"+t.type+";base64,"+c}))})).setPanelOptions((function(e){return e.addTextInput({path:"name",name:"Field name",description:"Name of the field with encoded image",defaultValue:"img"}).addTextInput({path:"type",name:"Data type",description:"MIME type",defaultValue:"image/jpeg"})}))}])}));
//# sourceMappingURL=module.js.map